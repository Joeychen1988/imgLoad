!function(e){function n(o,r){this.imgs="string"==typeof o?[o]:o,this.opts=e.extend({},n.DEFAULTS,r),"ordered"===this.opts.order?this._ordered():this._unordered()}n.DEFAULTS={order:"unordered",each:null,all:null},n.prototype._ordered=function(){function n(){var a=new Image;e(a).on("load error",function(){r.each&&r.each(t),t>=i?r.all&&r.all():n(),t++}),a.src=o[t]}var o=this.imgs,r=this.opts,t=0,i=o.length;n()},n.prototype._unordered=function(){var n=this.imgs,o=this.opts,r=0,t=n.length;e.each(n,function(n,i){if("string"==typeof i){var a=new Image;e(a).on("load error",function(){o.each&&o.each(r),r>=t-1&&o.all&&o.all(),r++}),a.src=i}})},e.extend({preload:function(e,o){new n(e,o)}})}(jQuery);